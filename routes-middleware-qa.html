<!DOCTYPE html>
<html lang="en">

<head>
    <title>Routes & Middleware - Q&A</title>
</head>

<body class="bg-light text-dark">
    <!-- Navbar -->
    <div id="navbar-container"></div>

    <div class="container py-4">
        <h1 class="text-center mb-2">
            <i class="fas fa-question-circle me-2 mt-1 text-primary"></i>
            Routes & Middleware questions and answers
        </h1>

        <div class="text-center mb-4">
            <a href="routes-middleware.html" class="btn btn-primary btn-lg">
                <i class="fas fa-book-open me-2"></i>Routes & Middleware
            </a>
        </div>

        <!-- Search -->
        <input type="search" id="search" class="form-control mb-4 search-input"
            placeholder="Search questions or keywords..." aria-label="Search">

        <div class="accordion" id="eloquentAccordion">
            <!-- 1. Route::resource() vs Route::apiResource() -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOne">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Difference between Route::resource() and Route::apiResource()
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p><code>Route::resource()</code>: Generates all 7 RESTful routes including
                            <code>(index, create, store, show, edit, update, destroy)</code>.
                        </p>
                        <p><code>Route::apiResource()</code>: Generates only 5 routes excluding <code>create</code>
                            and <code>edit</code>, which are form-related.</p>
                    </div>
                </div>
            </div>

            <!-- 2. Route Model Binding -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTwo">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        What is Route Model Binding and how to customize it?
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p><strong>Automatic Binding</strong>: Laravel auto-injects model based on route parameter name.
                        </p>
                        <pre><code class="language-php">Route::get('/users/{user}', function (User $user) {...});</code></pre>
                        <p><strong>Custom Binding</strong> via <code>RouteServiceProvider</code>:</p>
                        <pre><code class="language-php">Route::bind('user', function ($value) {
    return App\Models\User::where('uuid', $value)->firstOrFail();
});</code></pre>
                    </div>
                </div>
            </div>

            <!-- 3. Middleware Types -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingWebApi">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseWebApi">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Difference between <code>web.php</code> and <code>api.php</code> Routing Files
                    </button>
                </h2>
                <div id="collapseWebApi" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p><strong>web.php</strong>: Routes in this file use the <code>web</code> middleware group,
                            which includes session state, CSRF protection, and cookies. Typically used for browser-based
                            applications.</p>
                        <p><strong>api.php</strong>: Routes in this file use the <code>api</code> middleware group,
                            which is stateless, rate-limited, and optimized for JSON responses. Best for building
                            RESTful APIs.</p>
                    </div>
                </div>
            </div>

            <!-- 4. Route Grouping -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFour">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseFour">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        What is Route Grouping and Why is it Useful?
                    </button>
                </h2>
                <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p><strong>Route Grouping</strong>: Organizes routes under shared <code>middleware</code>,
                            <code>prefix</code>, or <code>namespace</code>.
                        </p>
                        <p><strong>Benefits</strong>:</p>
                        <ul>
                            <li>Reduces duplication</li>
                            <li>Improves maintainability in large applications</li>
                            <li>Centralizes configuration for related routes</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 6. Named Routes -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingSix">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseSix">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        What are Named Routes and Why are They Used?
                    </button>
                </h2>
                <div id="collapseSix" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p><strong>Named Routes</strong>: Assign a unique name to a route using
                            <code>->name('route_name')</code>.
                        </p>
                        <p><strong>Example</strong>:</p>
                        <pre><code>Route::get('/profile', 'UserController@profile')->name('profile');</code></pre>
                        <p><strong>Benefits</strong>:</p>
                        <ul>
                            <li>Generates URLs using <code>route('profile')</code> instead of hardcoding</li>
                            <li>Makes redirection and linking more maintainable</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 7. Restrict Routes to Authenticated Users -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingSeven">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseSeven">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Restrict Routes to Authenticated Users
                    </button>
                </h2>
                <div id="collapseSeven" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>Use the <code>auth</code> middleware to protect routes:</p>
                        <pre><code>Route::middleware('auth')->group(function () {
    Route::get('/dashboard', [DashboardController::class, 'index']);
});</code></pre>
                    </div>
                </div>
            </div>

            <!-- 8. Route Caching & Closure Restrictions -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingEight">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseEight">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Route Caching & Closure Restrictions
                    </button>
                </h2>
                <div id="collapseEight" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p><code>php artisan route:cache</code> caches routes to improve performance.</p>
                        <p><strong>Important:</strong> Closures (anonymous functions) in routes <strong>cannot be
                                cached</strong>.</p>
                        <p>Use controller classes instead:</p>
                        <pre><code>Route::get('/home', [HomeController::class, 'index']);</code></pre>
                    </div>
                </div>
            </div>

            <!-- 9. Versioned API Routes -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingNine">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseNine">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Defining Versioned API Routes
                    </button>
                </h2>
                <div id="collapseNine" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>Use route prefixing to define API versions:</p>
                        <pre><code>Route::prefix('api/v1')->group(function () {
    Route::apiResource('products', App\Http\Controllers\Api\V1\ProductController::class);
});</code></pre>
                    </div>
                </div>
            </div>

            <!-- 10. Dynamic Route Prefixes -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTen">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTen">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Dynamic Route Prefixes (Role/Locale Based)
                    </button>
                </h2>
                <div id="collapseTen" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>You can use a middleware or override the <code>boot()</code> method in
                            <code>RouteServiceProvider</code> to define dynamic prefixes:
                        </p>
                        <p><strong>Example:</strong> Prefix routes based on locale:</p>
                        <pre><code>Route::group(['prefix' => app()->getLocale()], function () {
    Route::get('/dashboard', [DashboardController::class, 'index']);
});</code></pre>
                        <p>Or use middleware to determine prefix dynamically.</p>
                    </div>
                </div>
            </div>

            <!-- 1. What is Middleware -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="middlewareHeadingOne">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOneMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        What is Middleware in Laravel?
                    </button>
                </h2>
                <div id="collapseOneMiddleware" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>Middleware acts as a filter for HTTP requests. It can perform logic <strong>before or
                                after</strong> a controller handles a request.</p>
                        <p>Middleware is registered in <code>app/Http/Kernel.php</code>.</p>
                    </div>
                </div>
            </div>

            <!-- 2. Create and Register Middleware -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwoMiddleware">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTwoMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Creating and Registering Custom Middleware
                    </button>
                </h2>
                <div id="collapseTwoMiddleware" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>Create using Artisan:</p>
                        <pre><code>php artisan make:middleware CheckUserRole</code></pre>
                        <p>Register in <code>$routeMiddleware</code> in <code>Kernel.php</code>:</p>
                        <pre><code>'role' => \App\Http\Middleware\CheckUserRole::class,</code></pre>
                    </div>
                </div>
            </div>

            <!-- 3. Middleware Chaining -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThreeMiddleware">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseThreeMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Middleware Chaining in Laravel
                    </button>
                </h2>
                <div id="collapseThreeMiddleware" class="accordion-collapse collapse"
                    data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>Laravel executes middleware in the order it appears in the route or group:</p>
                        <pre><code>Route::middleware(['auth', 'verified', 'role:admin'])->group(...);</code></pre>
                    </div>
                </div>
            </div>

            <!-- 4. Global vs Route Middleware -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFourMiddleware">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseFourMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Difference: Global vs Route Middleware
                    </button>
                </h2>
                <div id="collapseFourMiddleware" class="accordion-collapse collapse"
                    data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p><strong>Global Middleware</strong>: Runs for every request (defined in
                            <code>$middleware</code> array).
                        </p>
                        <p><strong>Route Middleware</strong>: Applied to specific routes (defined in
                            <code>$routeMiddleware</code> array).
                        </p>
                    </div>
                </div>
            </div>

            <!-- 5. Share Data from Middleware to Controller -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFiveMiddleware">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseFiveMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Sharing Data from Middleware to Controller
                    </button>
                </h2>
                <div id="collapseFiveMiddleware" class="accordion-collapse collapse"
                    data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>You can attach custom data to the request:</p>
                        <pre><code>$request->merge(['role' => 'admin']);</code></pre>
                        <p>This data is then accessible in the controller via <code>$request</code>.</p>
                    </div>
                </div>
            </div>

            <!-- 6. Apply Middleware Conditionally -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingSixMiddleware">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseSixMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Conditional or Dynamic Middleware
                    </button>
                </h2>
                <div id="collapseSixMiddleware" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>Apply middleware inside a controller:</p>
                        <pre><code>$this->middleware('auth')->only(['edit', 'update']);
$this->middleware('role:admin')->except(['index']);</code></pre>
                    </div>
                </div>
            </div>

            <!-- 7. Laravel Throttle Middleware -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingSevenMiddleware">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseSevenMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Laravel Throttle Middleware
                    </button>
                </h2>
                <div id="collapseSevenMiddleware" class="accordion-collapse collapse"
                    data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>Throttle limits request frequency:</p>
                        <pre><code>Route::middleware('throttle:60,1')->group(...);</code></pre>
                        <p>This allows <strong>60 requests per minute</strong> per IP or user ID, managed by
                            Laravelâ€™s <code>RateLimiter</code>.</p>
                    </div>
                </div>
            </div>

            <!-- 8. Modify Middleware Behavior -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingEightMiddleware">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseEightMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Modify or Override Middleware Behavior
                    </button>
                </h2>
                <div id="collapseEightMiddleware" class="accordion-collapse collapse"
                    data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>You can extend existing middleware classes or create your own custom logic.</p>
                        <p><strong>Example:</strong> Customize rate limits:</p>
                        <pre><code>RateLimiter::for('custom', function (Request $request) {
    return Limit::perMinute(10);
});</code></pre>
                    </div>
                </div>
            </div>

            <!-- 9. Handle CORS -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingNineMiddleware">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseNineMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Handling CORS in Laravel
                    </button>
                </h2>
                <div id="collapseNineMiddleware" class="accordion-collapse collapse"
                    data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>Cross-Origin Resource Sharing (CORS) is managed by the <code>HandleCors</code> middleware
                            (included by default).</p>
                        <p>Configuration is done via <code>config/cors.php</code>.</p>
                    </div>
                </div>
            </div>

            <!-- 10. Middleware Redirect or Abort -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTenMiddleware">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTenMiddleware">
                        <i class="fas fa-question me-2 mt-1 text-primary"></i>
                        Can Middleware Redirect or Abort?
                    </button>
                </h2>
                <div id="collapseTenMiddleware" class="accordion-collapse collapse" data-bs-parent="#eloquentAccordion">
                    <div class="accordion-body">
                        <p>Yes, middleware can redirect or abort requests:</p>
                        <pre><code>if (!auth()->check()) {
    return redirect('/login');
}</code></pre>
                        <p>Or:</p>
                        <pre><code>abort(403, 'Unauthorized action.');</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src=" https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/script.js"></script>
</body>

</html>